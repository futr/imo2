new
    fmt_r = "( v = %c - 1 ), ( v < 0 )if( v = 0 ), ( %c = 1282.71 / ( ln( 666.09 / ( ( %c ) * ( %f - %f ) / ( 255.0 - 1.0 ) + %f ) + 1 ) ) - 273.15 - %d ), ( %c < ( %d / 5 * 4 ) )if( x = 0 ), ( %c >= ( %d / 5 * 4 ) )if( x = 255 ), ( ( %c < ( %d / 5 * 4 ) ) * ( %c >= ( %d / 5 * 3 ) ) )if( x = 255 * ( ( %c - ( %d / 5 * 3 ) ) / ( %d / 5 ) ) ), x";
    fmt_g = "( v = %c - 1 ), ( v < 0 )if( v = 0 ), ( %c = 1282.71 / ( ln( 666.09 / ( ( %c ) * ( %f - %f ) / ( 255.0 - 1.0 ) + %f ) + 1 ) ) - 273.15 - %d ), ( %c < ( %d / 5 * 2 ) )if( y = 0 ), ( %c >= ( %d / 5 * 2 ) )if( y = 255 ), ( ( %c >= ( %d / 5 ) ) * ( %c < ( %d / 5 * 2 ) ) )if( y = 255 * ( ( %c - %d / 5 ) / ( %d / 5 ) ) ), ( ( %c >= ( %d / 5 * 4 ) ) )if( y = 255 - 255 * ( ( %c - ( %d / 5 * 4 ) ) / ( %d / 5 ) ) ), y";
    fmt_b = "( v = %c - 1 ), ( v < 0 )if( v = 0 ), ( %c = 1282.71 / ( ln( 666.09 / ( ( %c ) * ( %f - %f ) / ( 255.0 - 1.0 ) + %f ) + 1 ) ) - 273.15 - %d ), ( %c < ( %d / 5 * 3 ) )if( z = 255 ), ( %c >= ( %d / 5 * 3 ) )if( z = 0 ), ( %c < ( %d / 5 ) )if( z = 255 * ( %c / ( %d / 5 ) ) ), ( ( %c >= ( %d / 5 * 2 ) ) * ( %c < ( %d / 5 * 3 ) ) )if( z = 255 - 255 * ( ( %c - ( %d / 5 * 2 ) ) / ( %d / 5 ) ) ), z";

old
    fmt_r = "( v = %c - 1 ), ( v < 0 )if( v = 0 ), ( %c = 1282.71 / ( ln( 666.09 / ( ( %c ) * ( %f - %f ) / ( 255.0 - 1.0 ) + %f ) + 1 ) ) - 273.15 - %d ), ( %c < ( %d / 5 * 4 ) )if( x = 0 ), ( %c > ( %d / 5 * 4 ) )if( x = 255 ), ( ( %c < ( %d / 5 * 4 ) ) * ( %c > ( %d / 5 * 3 ) ) )if( x = 255 * ( ( %c - ( %d / 5 * 3 ) ) / ( %d / 5 ) ) ), x";
    fmt_g = "( v = %c - 1 ), ( v < 0 )if( v = 0 ), ( %c = 1282.71 / ( ln( 666.09 / ( ( %c ) * ( %f - %f ) / ( 255.0 - 1.0 ) + %f ) + 1 ) ) - 273.15 - %d ), ( %c < ( %d / 5 * 2 ) )if( y = 0 ), ( %c > ( %d / 5 * 2 ) )if( y = 255 ), ( ( %c > ( %d / 5 ) ) * ( %c < ( %d / 5 * 2 ) ) )if( y = 255 * ( ( %c - %d / 5 ) / ( %d / 5 ) ) ), ( ( %c > ( %d / 5 * 4 ) ) )if( y = 255 - 255 * ( ( %c - ( %d / 5 * 4 ) ) / ( %d / 5 ) ) ), y";
    fmt_b = "( v = %c - 1 ), ( v < 0 )if( v = 0 ), ( %c = 1282.71 / ( ln( 666.09 / ( ( %c ) * ( %f - %f ) / ( 255.0 - 1.0 ) + %f ) + 1 ) ) - 273.15 - %d ), ( %c < ( %d / 5 * 3 ) )if( z = 255 ), ( %c > ( %d / 5 * 3 ) )if( z = 0 ), ( %c < ( %d / 5 ) )if( z = 255 * ( %c / ( %d / 5 ) ) ), ( ( %c > ( %d / 5 * 2 ) ) * ( %c < ( %d / 5 * 3 ) ) )if( z = 255 - 255 * ( ( %c - ( %d / 5 * 2 ) ) / ( %d / 5 ) ) ), z";
